<h2>Информация о пользователе</h2>

<div *ngIf="user; else loader">
  <div>{{user.lastName}} {{user.firstName}} {{user.patronymic}}</div>
<div>
  <span>{{user.roles}}</span> 
  <div *ngFor="let role of user.roles">
    <div *ngIf="role === 'Student'">

      <table class="simple-little-table" cellspacing='0'>
        <tr>
          <th>Предметы</th>
        </tr>
        <tr *ngFor="let subject of subj; let idx = index">
          <td>{{subject}}</td>
          <td *ngFor="let note of user.subjects[subject]">
              {{note}}
          </td>
        </tr>
      </table>
    </div>
    <div *ngIf="role === 'Teacher'">
      <!-- begin -->
      <table
        mat-table
        [dataSource]="user.groups"
        class="mat-elevation-z8"
      >
      <!-- id Column -->
      <ng-container matColumnDef="groups">
        <th mat-header-cell *matHeaderCellDef> Группы </th>
        <td mat-cell *matCellDef="let group"> {{group}} </td>
      </ng-container>
      
      

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns; let group"  [routerLink]="['/details-group', group]"></tr>

    </table>

      <!-- end -->
    </div>
  </div>
  
</div>

<ng-template #loader>
  <app-loader></app-loader>
</ng-template>

<div class="box-btn">
  <app-buttons></app-buttons>
</div>